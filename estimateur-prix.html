<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estimateur de prix</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>



    <h2>Estimez votre commande chez Isotuile</h2>

    <div id="estimateur_container">


        <!-- Type de produit -->
        <fieldset class="select_container">
            <label class="required">Type de produit*</label>
            <div class="form_choices" id="typePanneauContainer">
                <div class="form-check">
                    <input type="radio" id="type1" name="typePanneau" value="romaneCanal" checked>
                    <label for="type1">Romane Canal</label>
                </div>
                <div class="form-check">
                    <input type="radio" id="type2" name="typePanneau" value="tuilesPlates">
                    <label for="type2">Tuiles Plates</label>
                </div>
                <div class="form-check">
                    <input type="radio" id="type3" name="typePanneau" value="bacAcier">
                    <label for="type3">Bac Acier</label>
                </div>
            </div>
        </fieldset>

        <!-- Couleur (sera rempli dynamiquement) -->
        <fieldset class="select_container">
            <label class="required">Couleur*</label>
            <div class="form_choices" id="couleurContainer"></div>
        </fieldset>

        <!-- Ã‰paisseur (sera rempli dynamiquement) -->
        <fieldset class="select_container">
            <label class="required">Ã‰paisseur*</label>
            <div class="form_choices" id="epaisseurContainer"></div>
        </fieldset>





        <!-- Tableau Longueur / QuantitÃ© / Surface -->
        <div class="select_container">
            <p class="select_title">Longueur & quantitÃ©</p>
            <table id="tablePanneaux">
                <thead>
                    <tr>
                        <th>Longueur (mm)</th>
                        <th>QuantitÃ©</th>
                        <th>Surface (mÂ²)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="number" step="0.01" class="longueur"></td>
                        <td><input type="number" step="1" class="quantite"></td>
                        <td class="surface">0</td>
                    </tr>
                </tbody>
            </table>
            <button id="ajouterLigne">Ajouter une longueur</button>
        </div>

    </div>




    <div class="total">
        <!-- Tableau des prix -->
        <div>
            <div class="toggle_btn">
                <img src="https://img.icons8.com/ios-glyphs/1000/chevron-up.png">
                <span>Tableau des prix</span>
            </div>
            <div id="tablePrix" class="tableContainer">
                <table>
                    <thead>
                        <tr>
                            <th>Produit</th>
                            <th>Couleur</th>
                            <th>Ã‰paisseur</th>
                            <th>Prix</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- DÃ©tail commande -->
        <div>
            <div class="toggle_btn">
                <img src="https://img.icons8.com/ios-glyphs/1000/chevron-up.png">
                <span>DÃ©tail commande</span>
            </div>
            <div id="tableDetail" class="tableContainer">
                <table>
                    <thead>
                        <tr>
                            <th>Produit + Couleur</th>
                            <th>Ã‰paisseur</th>
                            <th>Longueur</th>
                            <th>QuantitÃ©</th>
                            <th>Surface</th>
                            <th>CoÃ»t au mÂ²</th>
                            <th>Prix total</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div>Prix estimÃ© : <span id="prixTotal">0</span> â‚¬</div>
        <button id="exportPdf">ðŸ“„ Exporter en PDF</button>

    </div>








    <style>
        body {
            background-color: #f0f2f9;
            font-family: Arial, Helvetica, sans-serif;
        }

        table {
            width: 100%;
            border-spacing: 10px;
        }

        table,
        th,
        td {
            box-sizing: border-box;
            border: none;
            text-align: center;
        }

        tr {
            position: relative;
        }

        td input {
            width: 100%;
            box-sizing: border-box;
            border-radius: 15px;
            border: thin solid #f0f2f9;
            padding: 10px 0;
            text-align: center;
        }

        th {
            padding: 10px;
            width: 30%;
            background-color: #f0f2f9;
            border-radius: 8px;
            font-weight: 500;
        }


        #estimateur_container {
            border-radius: 20px;
            background-color: white;
            display: flex;
            flex-direction: column;
            margin: 2rem;
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        #estimateur_container .select_container {
            display: flex;
            flex-direction: column;
            border: none;
            padding: 1rem;
            box-sizing: border-box;
            width: 100%;
            position: relative;
            flex: 1;
        }

        #estimateur_container .select_container>label,
        #estimateur_container .select_container .select_title {
            font-size: .8rem;
            font-weight: 600;
        }

        #estimateur_container .select_container .form_choices {
            display: flex;
            flex-direction: row;
            margin: 1rem 0;
            gap: 1rem;
            width: 100%;
            flex-wrap: wrap;
        }

        #estimateur_container .select_container .form-check {}

        #estimateur_container .form-check input[type=radio] {
            position: relative;
            height: 100%;
            inset: 0 auto auto 0;
            margin: auto;
            position: absolute;
            visibility: hidden;
            width: 100%;
        }

        #estimateur_container .form-check input[type=radio]+label {
            align-items: center;
            background-color: #fff;
            border: 1.5px solid #b1b1b1;
            border-radius: 16px;
            cursor: pointer;
            display: flex;
            font-weight: 500;
            height: 2rem;
            justify-content: center;
            min-width: 4rem;
            padding: .5rem 1.2rem;
            position: relative;
            font-size: 1rem;
        }

        #estimateur_container .form-check input[name=couleurPanneau]+label {
            padding-left: .5rem;
            /*SUPPR PADDING POUR CHIP*/
        }

        #estimateur_container .form-check input[type=radio]:checked+label {
            background-color: #f1f2f7;
            border-color: #1126b7;
        }

        #estimateur_container .form-check .couleurChip {
            height: 1.5rem;
            width: 1.5rem;
            border-radius: 100%;
            margin-right: .5rem;
            border: solid rgba(0, 0, 0, 0.2) 1px;
        }

        #estimateur_container #ajouterLigne {
            border: none;
            padding: 2px;
            border-radius: 5px;
            width: 95%;
            margin: auto;
            margin-top: 1rem;
            background-color: #f0f2f9;
            cursor: pointer;
        }

        .total {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            justify-content: center;
            border: 2px solid #fff;
            border-radius: 20px;
            margin: 2rem;
            position: relative;
            padding: 1rem;
            font-weight: bold;
            transition: background-color .4s ease;
            font-size: 1.5rem;
        }

        .total:hover {
            background-color: #fff;
        }

        .total .tableContainer {
            overflow-x: auto;
        }

        .total table {
            width: 100%;
            border-collapse: collapse;
        }

        .total thead th {
            background-color: #f0f2f9;
            width: auto;
            white-space: nowrap;
        }

        .total thead th:first-child {
            border-radius: 8px 0 0 0;
        }

        .total thead th:last-child {
            border-radius: 0 8px 0 0;
        }

        .total td {
            border: 1px solid #e8e9f0;
        }

        .total th,
        .total td {
            padding: 6px;
            text-align: center;
            font-size: 1rem;
            background-color: transparent;
            border-radius: 0;
        }

        .total h3 {
            margin: .5rem 0;
            text-align: center;
        }

        .total #exportPdf {
            width: fit-content;
            align-items: center;
            background-color: #fff;
            border: 1.5px solid #b1b1b1;
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            font-weight: 500;
            height: 2rem;
            justify-content: center;
            min-width: 4rem;
            padding: .5rem 1.2rem;
            position: relative;
            font-size: 1rem;
            transition: .4s ease;
        }

        .total #exportPdf:hover {
            background-color: #f1f2f7;
            border-color: #1126b7;
        }

        .toggle_btn {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 6px;
            font-weight: bold;
            font-size: 1rem;
        }

        .toggle_btn img {
            width: 12px;
            height: 12px;
            margin-right: 6px;
            transition: transform 0.3s;
        }

        .toggle_btn.expand img {
            transform: rotate(180deg);
        }
    </style>

    <!-- IMPORTS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/3.0.1/jspdf.umd.min.js"
        integrity="sha512-ad3j5/L4h648YM/KObaUfjCsZRBP9sAOmpjaT2BDx6u9aBrKFp7SbeHykruy83rxfmG42+5QqeL/ngcojglbJw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/5.0.2/jspdf.plugin.autotable.min.js"
        integrity="sha512-JizZOUNesiGhMcp9fsA/9W31FOat6QysBM8hSj6ir8iIANIUJ2mhko7Lo1+j0ErftmJ8SebMZLm9iielKjeIEQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="./estimateur_simple_prix.js"></script>

    <script src="./export_pdf.js"></script>
</body>

</html>